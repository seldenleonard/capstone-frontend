<template>
  <div class="users-show">
    <div class="wrapper">
      <!-- HOME -->
      <section
        class="module module-header bg-dark bg-dark-50"
        data-background="assets/images/section-1.jpg"
        style='background-image: url("assets/images/section-1.jpg");'
      >
        <div class="container">
          <!-- MODULE TITLE -->
          <div class="row">
            <div class="col-sm-6 col-sm-offset-3">
              <h1 class="module-title font-alt align-center">
                Portfolio wide masonry
              </h1>

              <div class="module-subtitle font-inc align-center">
                A wonderful serenity has taken possession of my entire soul,
                like these sweet mornings of spring which I enjoy with my whole
                heart.
              </div>
            </div>
          </div>
          <!-- /MODULE TITLE -->
        </div>
      </section>
      <!-- /HOME -->

      <!-- PORTFOLIO -->
      <section class="module-small p-t-20">
        <div class="container">
          <!-- PORTFOLIO FILTER -->
          <div class="row">
            <div class="col-sm-12">
              <ul id="filters" class="filter font-inc hidden-xs">
                <li>
                  <a
                    href="#"
                    data-filter="*"
                    class="current wow fadeInUp animated"
                    style="visibility: visible; animation-name: fadeInUp;"
                    >All</a
                  >
                </li>
                <li>
                  <a
                    href="#"
                    data-filter=".illustration"
                    class="wow fadeInUp animated"
                    data-wow-delay="0.2s"
                    style="visibility: visible; animation-delay: 0.2s; animation-name: fadeInUp;"
                    >Illustration</a
                  >
                </li>
                <li>
                  <a
                    href="#"
                    data-filter=".marketing"
                    class="wow fadeInUp animated"
                    data-wow-delay="0.4s"
                    style="visibility: visible; animation-delay: 0.4s; animation-name: fadeInUp;"
                    >Marketing</a
                  >
                </li>
                <li>
                  <a
                    href="#"
                    data-filter=".photography"
                    class="wow fadeInUp animated"
                    data-wow-delay="0.6s"
                    style="visibility: visible; animation-delay: 0.6s; animation-name: fadeInUp;"
                    >Photography</a
                  >
                </li>
                <li>
                  <a
                    href="#"
                    data-filter=".webdesign"
                    class="wow fadeInUp animated"
                    data-wow-delay="0.8s"
                    style="visibility: visible; animation-delay: 0.8s; animation-name: fadeInUp;"
                    >Web Design</a
                  >
                </li>
              </ul>
            </div>
          </div>
          <!-- /PORTFOLIO FILTER -->
        </div>

        <!-- PORTFOLIO LIST -->
        <ul
          id="works-grid"
          class="works-grid works-grid-3 works-grid-masonry works-hover-g"
          style="position: relative; height: 1429.53px;"
        >
          <!-- PORTFOLIO ITEM -->
          <li
            class="work-item illustration webdesign"
            style="position: absolute; left: 0px; top: 0px;"
          >
            <a href="portfolio-single-1.html">
              <div class="work-image">
                <img src="assets/images/work-masonry-1.jpg" alt="" />
              </div>
              <div class="work-caption">
                <h3 class="work-title font-alt">Corporate Identity</h3>
                <div class="work-descr font-inc">
                  Illustration
                </div>
              </div>
            </a>
          </li>
          <!-- /PORTFOLIO ITEM -->

          <!-- PORTFOLIO ITEM -->
          <li
            class="work-item marketing photography"
            style="position: absolute; left: 474px; top: 0px;"
          >
            <a href="portfolio-single-1.html">
              <div class="work-image">
                <img src="assets/images/work-2.jpg" alt="" />
              </div>
              <div class="work-caption">
                <h3 class="work-title font-alt">Bag MockUp</h3>
                <div class="work-descr font-inc">
                  Marketing
                </div>
              </div>
            </a>
          </li>
          <!-- /PORTFOLIO ITEM -->

          <!-- PORTFOLIO ITEM -->
          <li
            class="work-item illustration photography"
            style="position: absolute; left: 474px; top: 285px;"
          >
            <a href="portfolio-single-1.html">
              <div class="work-image">
                <img src="assets/images/work-3.jpg" alt="" />
              </div>
              <div class="work-caption">
                <h3 class="work-title font-alt">Disk Cover</h3>
                <div class="work-descr font-inc">
                  Illustration
                </div>
              </div>
            </a>
          </li>
          <!-- /PORTFOLIO ITEM -->

          <!-- PORTFOLIO ITEM -->
          <li
            class="work-item marketing photography"
            style="position: absolute; left: 0px; top: 571px;"
          >
            <a href="portfolio-single-1.html">
              <div class="work-image">
                <img src="assets/images/work-4.jpg" alt="" />
              </div>
              <div class="work-caption">
                <h3 class="work-title font-alt">Business Card</h3>
                <div class="work-descr font-inc">
                  Photography
                </div>
              </div>
            </a>
          </li>
          <!-- /PORTFOLIO ITEM -->

          <!-- PORTFOLIO ITEM -->
          <li
            class="work-item illustration webdesign"
            style="position: absolute; left: 474px; top: 571px;"
          >
            <a href="portfolio-single-1.html">
              <div class="work-image">
                <img src="assets/images/work-masonry-2.jpg" alt="" />
              </div>
              <div class="work-caption">
                <h3 class="work-title font-alt">Business Cards</h3>
                <div class="work-descr font-inc">
                  Webdesign
                </div>
              </div>
            </a>
          </li>
          <!-- /PORTFOLIO ITEM -->

          <!-- PORTFOLIO ITEM -->
          <li
            class="work-item marketing webdesign"
            style="position: absolute; left: 0px; top: 857px;"
          >
            <a href="portfolio-single-1.html">
              <div class="work-image">
                <img src="assets/images/work-6.jpg" alt="" />
              </div>
              <div class="work-caption">
                <h3 class="work-title font-alt">
                  Business Cards in paper clip
                </h3>
                <div class="work-descr font-inc">
                  Marketing
                </div>
              </div>
            </a>
          </li>
          <!-- /PORTFOLIO ITEM -->

          <!-- PORTFOLIO ITEM -->
          <li
            class="work-item marketing webdesign"
            style="position: absolute; left: 0px; top: 1143px;"
          >
            <a href="portfolio-single-1.html">
              <div class="work-image">
                <img src="assets/images/work-7.jpg" alt="" />
              </div>
              <div class="work-caption">
                <h3 class="work-title font-alt">
                  Business Cards in paper clip
                </h3>
                <div class="work-descr font-inc">
                  Marketing
                </div>
              </div>
            </a>
          </li>
          <!-- /PORTFOLIO ITEM -->
        </ul>
        <!-- /PORTFOLIO LIST -->
      </section>
      <!-- /PORTFOLIO -->

      <!-- PAGINATION -->
      <section class="module-small p-t-0">
        <div class="container">
          <div class="pagination font-inc text-uppercase">
            <a href="#"><i class="fa fa-angle-left"></i> Prev</a>
            <a href="#">Next <i class="fa fa-angle-right"></i></a>
          </div>
        </div>
      </section>
      <!-- /PAGINATION -->

      <!-- DIVIDER -->
      <hr class="divider-w" />
      <!-- /DIVIDER -->

      <!-- CONTACT -->
      <section class="module-small">
        <div class="container">
          <div class="row">
            <!-- CONTENT BOX -->
            <div class="col-sm-4">
              <div class="content-box">
                <div class="content-box-icon">
                  <span class="icon-map-pin"></span>
                </div>
                <div class="content-box-title font-inc">
                  007 Steet, City, USA
                </div>
              </div>
            </div>
            <!-- /CONTENT BOX -->

            <!-- CONTENT BOX -->
            <div class="col-sm-4">
              <div class="content-box">
                <div class="content-box-icon">
                  <span class="icon-phone"></span>
                </div>
                <div class="content-box-title font-inc">
                  +1 234 567 89 00
                </div>
              </div>
            </div>
            <!-- /CONTENT BOX -->

            <!-- CONTENT BOX -->
            <div class="col-sm-4">
              <div class="content-box">
                <div class="content-box-icon">
                  <span class="icon-envelope"></span>
                </div>
                <div class="content-box-title font-inc">
                  semantic@email.com
                </div>
              </div>
            </div>
            <!-- /CONTENT BOX -->
          </div>
        </div>
      </section>
      <!-- /CONTACT -->

      <!-- FOOTER -->
      <footer class="footer">
        <div class="container">
          <div class="row">
            <div class="col-sm-12 text-center">
              <p class="copyright font-inc m-b-0">
                © 2015 <a href="index.html">SEMANTIC</a>, All Rights Reserved.
              </p>
            </div>
          </div>
        </div>
      </footer>
      <!-- /FOOTER -->
    </div>

    <img :src="user.image_url" alt="" />
    <h2>{{ user.name }}</h2>
    <router-link :to="`/colleges/${user.college_id}`">
      <p>{{ user.college_name }}</p>
    </router-link>
    <p v-if="user.graduation_year">Class of {{ user.graduation_year }}</p>
    <p v-if="user.major">Major: {{ user.major }}</p>
    <p v-if="user.minor">Minor: {{ user.minor }}</p>
    <p v-if="user.art_style">Style of Art: {{ user.art_style }}</p>
    <p v-if="user.bio">Bio: {{ user.bio }}</p>
    <p v-if="user.artist">Contact: {{ user.email }}</p>
    <p v-else>Email: {{ user.email }}</p>
    <router-link
      v-if="user.id === $parent.getUserId()"
      :to="`/users/${user.id}/edit`"
    >
      <button>Edit Profile</button>
    </router-link>
    <div v-for="artwork in user.artworks">
      <div v-for="image in artwork.images">
        <img :src="image.url" alt="" />
      </div>
      <router-link :to="`/artworks/${artwork.id}`">
        <h2>{{ artwork.title }}</h2>
      </router-link>
      <p>{{ artwork.year }}</p>
      <p>{{ artwork.medium }}</p>
      <p v-if="artwork.dimensions">{{ artwork.dimensions }}</p>
      <p v-if="artwork.description">{{ artwork.description }}</p>
      <p v-if="artwork.price">Price: $ {{ artwork.price }}</p>
      <p>Upvotes: {{ artwork.upvotes_count }}</p>
      <h5 class="category">Posted {{ relativeDate(artwork.created_at) }}</h5>
      <router-link
        v-if="user.id === $parent.getUserId()"
        :to="`/artworks/${artwork.id}/edit`"
      >
        <button>Edit Artwork</button>
      </router-link>
    </div>
    <!-- <button v-if="artwork.upvote" v-on:click="destroyUpvote(artwork)">
        Destroy Upvote
      </button>
      <button v-else v-on:click="createUpvote(artwork)">Upvote</button> -->
  </div>
</template>

<script>
import axios from "axios";
import moment from "moment";

export default {
  data: function() {
    return {
      user: {},
      errors: [],
    };
  },
  created: function() {
    axios
      .get(`/api/users/${this.$route.params.id}`)
      .then((response) => {
        console.log(response.data);
        this.user = response.data;
      })
      .catch((error) => {
        this.errors = error.response.data.errors;
      });
  },
  methods: {
    relativeDate: function(date) {
      return moment(date).fromNow();
    },
    // createUpvote: function(artwork) {
    //   let params = {
    //     artwork_id: artwork.id,
    //   };
    //   axios
    //     .post("/api/upvotes", params)
    //     .then((response) => {
    //       artwork.upvote = true;
    //       artwork.upvotes_count++;
    //     })
    //     .catch((error) => {
    //       this.errors = error.response.data.errors;
    //       console.log(this.errors);
    //     });
    // },
    // destroyUpvote: function(artwork) {
    //   axios
    //     .delete(`/api/upvotes/${artwork.id}`)
    //     .then((response) => {
    //       artwork.upvote = false;
    //       artwork.upvotes_count--;
    //     })
    //     .catch((error) => {
    //       this.errors = error.response.data.errors;
    //     });
    // },
  },
};
</script>
