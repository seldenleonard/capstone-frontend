<template>
  <div class="colleges-index">
    <!-- HOME -->
    <section
      id="home"
      class="module-hero module-parallax module-fade module-full-height"
    >
      <div class="hero-slider">
        <ul class="slides">
          <!-- SLIDE -->
          <li class="bg-dark">
            <div
              class="slidebg slide-zoom bg-dark-30"
              style="background-image:url(assets/images/section-2.jpg)"
            ></div>

            <div class="hs-caption container">
              <div class="caption-content">
                <div class="hs-title-size-3 font-alt m-b-20">
                  We are Semantic
                </div>
                <div class="hs-title-size-1 font-inc">
                  A wonderful serenity has taken possession of my entire soul,
                  like these<br />
                  sweet mornings of spring which I enjoy with my whole heart
                </div>
              </div>
            </div>
          </li>
          <!-- /SLIDE -->

          <!-- SLIDE -->
          <li class="bg-light">
            <div
              class="slidebg slide-zoom bg-light-30"
              style="background-image:url(assets/images/section-9.jpg)"
            ></div>

            <div class="hs-caption container">
              <div class="caption-content left">
                <div class="hs-title-size-3 font-alt m-b-20">
                  Incoming call
                </div>
                <div class="hs-title-size-1 font-inc">
                  A wonderful serenity has taken possession of my entire soul,
                  like these<br />
                  sweet mornings of spring which I enjoy with my whole heart
                </div>
              </div>
            </div>
          </li>
          <!-- /SLIDE -->

          <!-- SLIDE -->
          <li class="bg-dark">
            <div
              class="slidebg slide-zoom bg-dark-50"
              style="background-image:url(assets/images/section-8.jpg)"
            ></div>

            <div class="hs-caption container">
              <div class="caption-content right">
                <div class="hs-title-size-3 font-alt m-b-20">
                  Yellow coat
                </div>
                <div class="hs-title-size-1 font-inc">
                  A wonderful serenity has taken possession of my entire soul,
                  like these<br />
                  sweet mornings of spring which I enjoy with my whole heart
                </div>
              </div>
            </div>
          </li>
          <!-- /SLIDE -->
        </ul>
      </div>
    </section>
    <!-- /HOME -->

    <!-- WRAPPER -->
    <div class="wrapper">
      <!-- PORTFOLIO -->
      <section class="module-small p-t-20 p-b-0 p-t-sm-0">
        <div class="container hidden-xs">
          <!-- PORTFOLIO FILTER -->
          <div class="row">
            <div class="col-sm-12">
              <ul id="filters" class="filter font-inc">
                <li>
                  <a href="#" data-filter="*" class="current wow fadeInUp"
                    >All</a
                  >
                </li>
                <li>
                  <a
                    href="#"
                    data-filter=".webdesign"
                    class="wow fadeInUp"
                    data-wow-delay="0.6s"
                    >Web Design</a
                  >
                </li>
              </ul>
            </div>
          </div>
          <!-- /PORTFOLIO FILTER -->
        </div>

        <!-- PORTFOLIO LIST -->
        <ul
          id="works-grid"
          class="works-grid works-grid-masonry works-grid-3 works-hover-w"
        >
          <!-- PORTFOLIO ITEM -->
          <li class="work-item illustration webdesign">
            <a href="portfolio-single-1.html">
              <div class="work-image">
                <img src="assets/images/work-masonry-1.jpg" alt="" />
              </div>
              <div class="work-caption">
                <h3 class="work-title font-alt">Corporate Identity</h3>
                <div class="work-descr font-inc">
                  Illustration
                </div>
              </div>
            </a>
          </li>
          <!-- /PORTFOLIO ITEM -->
        </ul>
        <!-- /PORTFOLIO LIST -->
      </section>
      <!-- /PORTFOLIO -->

      <!-- TESTIMONIAL -->
      <section class="module-small">
        <div class="container">
          <div class="row">
            <!-- MODULE TITLE -->
            <div class="col-sm-6">
              <h2 class="module-title font-alt">Someone quote</h2>
            </div>
            <!-- /MODULE TITLE -->

            <!-- BLOCKQUOTE -->
            <div class="col-sm-6">
              <blockquote class="font-serif align-right">
                <p>
                  The languages only differ in their grammar, their
                  pronunciation and their most common words. Everyone realizes
                  why a new common language would be desirable: one could refuse
                  to pay expensive translators.
                </p>
                <p class="font-inc font-uppercase">- Thomas Anderson</p>
              </blockquote>
            </div>
            <!-- /BLOCKQUOTE -->
          </div>
        </div>
      </section>
      <!-- /TESTIMONIAL -->

      <!-- ABOUT -->
      <section
        class="module p-t-0 p-b-0"
        data-background="assets/images/section-4.jpg"
      >
        <div class="container-fluid">
          <div class="row relative">
            <div class="col-sm-12 col-md-6 col-md-offset-6 col-bg">
              <h2 class="module-title font-alt">About</h2>

              <div class="module-subtitle font-inc">
                Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean
                commodo ligula eget dolor. Aenean massa.
              </div>

              <p>
                The languages only differ in their grammar, their pronunciation
                and their most common words. Everyone realizes why a new common
                language would be desirable: one could refuse to pay expensive
                translators.
              </p>

              <p>
                To achieve this, it would be necessary to have uniform grammar,
                pronunciation and more common words. If several languages
                coalesce, the grammar of the resulting language is more simple
                and regular than that of the individual languages.
              </p>

              <ul class="social-list">
                <li>
                  <a href="#"><span class="icon-facebook"></span></a>
                </li>
                <li>
                  <a href="#"><span class="icon-twitter"></span></a>
                </li>
                <li>
                  <a href="#"><span class="icon-googleplus"></span></a>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </section>
      <!-- /ABOUT -->

      <!-- CONTACT -->
      <section class="module-small">
        <div class="container">
          <div class="row">
            <!-- CONTENT BOX -->
            <div class="col-sm-4">
              <div class="content-box">
                <div class="content-box-icon">
                  <span class="icon-map-pin"></span>
                </div>
                <div class="content-box-title font-inc">
                  007 Steet, City, USA
                </div>
              </div>
            </div>
            <!-- /CONTENT BOX -->

            <!-- CONTENT BOX -->
            <div class="col-sm-4">
              <div class="content-box">
                <div class="content-box-icon">
                  <span class="icon-phone"></span>
                </div>
                <div class="content-box-title font-inc">
                  +1 234 567 89 00
                </div>
              </div>
            </div>
            <!-- /CONTENT BOX -->

            <!-- CONTENT BOX -->
            <div class="col-sm-4">
              <div class="content-box">
                <div class="content-box-icon">
                  <span class="icon-envelope"></span>
                </div>
                <div class="content-box-title font-inc">
                  semantic@email.com
                </div>
              </div>
            </div>
            <!-- /CONTENT BOX -->
          </div>
        </div>
      </section>
      <!-- /CONTACT -->

      <!-- FOOTER -->
      <footer class="footer">
        <div class="container">
          <div class="row">
            <div class="col-sm-12 text-center">
              <p class="copyright font-inc m-b-0">
                Â© 2015 <a href="index.html">SEMANTIC</a>, All Rights Reserved.
              </p>
            </div>
          </div>
        </div>
      </footer>
      <!-- /FOOTER -->
    </div>
    <!-- /WRAPPER -->

    <!-- XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX -->

    <!-- MY OLD CODE -->
    <div>
      <input type="text" v-model="allAttributeFilter" placeholder="Search" />
      <datalist id="names">
        <option v-for="college in colleges">{{ college.name }}</option>
      </datalist>
      <button v-on:click="setSortAttribute('name')">
        Sort by Name
      </button>
      <button v-on:click="setSortAttribute('state')">
        Sort by State
      </button>
    </div>

    <div
      v-for="college in orderBy(
        filterBy(
          colleges,
          allAttributeFilter,
          'name',
          'abbreviation',
          'city',
          'state',
          'dimensions'
        ),
        sortAttribute
      )"
    >
      <img :src="college.image_url" alt="" />
      <h2>{{ college.name }}</h2>
      <p>{{ college.abbreviation }}</p>
      <p>{{ college.city }}, {{ college.state }}</p>
      <p>{{ college.bio }}</p>
      <h5 class="category">
        {{ college.users.length }} Student Artists Represented
      </h5>
      <router-link :to="`/colleges/${college.id}`">
        <button>Explore Student Artists</button>
      </router-link>
    </div>
  </div>
</template>
//
---------------------------------------------------------------------------------
<script>
import axios from "axios";
import Vue2Filters from "vue2-filters";

export default {
  mixins: [Vue2Filters.mixin],
  data: function() {
    return {
      colleges: [],
      errors: [],
      allAttributeFilter: "",
      sortAttribute: "",
    };
  },
  created: function() {
    axios
      .get("api/colleges")
      .then((response) => {
        console.log(response.data);
        this.colleges = response.data;
      })
      .catch((error) => {
        this.errors = error.response.data.errors;
      });
  },
  methods: {
    setSortAttribute: function(attribute) {
      this.sortAttribute = attribute;
    },
  },
};
</script>
